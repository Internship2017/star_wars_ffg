<div class="container">
  
  <div class="row mt-20 mb-20">
    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
      <h2>New Career</h2>
      <!-- Button trigger modal -->
    </div>
    <div class="col-xs-6 col-sm-6 col-md-6 col-lg-6">
      <button type="button" class="btn btn-primary float-right" data-toggle="modal" data-target="#batchModal">
        Upload Careers
      </button>
    </div>
  </div>
  <hr>
  <%= form_for(@career) do |f| %>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
          <div class="form-group">
            <%= f.label :name %><br />
            <%= f.text_field :name, { autofocus: true, class: "form-control" } %>
          </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
          <div class="form-group">
            <%= f.label :source_page %><br />
            <%= f.number_field :source_page, { class: "form-control" } %>
          </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
          <div class="form-group">
            <%= f.label :source_book %><br />
            <%= f.text_field :source_book, { class: "form-control" } %>
          </div>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <div class="form-group">
            <%= f.label :description %><br />
            <%= f.text_area :description, { class: "form-control" } %>
          </div>
      </div>
    </div>
    <div class="row mb-20">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
          <%= f.select :career_skills, Career::SKILLS, {include_hidden: false}, { multiple: true, class: 'chosen-select' } %>
        </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <%= f.submit "Create", { class: "btn-primary btn" } %>
      </div>
    </div>
  <% end %>
</div>

<!-- Modal -->
<div class="modal fade" id="batchModal" tabindex="-1" role="dialog" aria-labelledby="batchModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="batchModalLabel">Upload Careers</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <%= form_tag upload_careers_path, multipart:true do %>
        <div class="modal-body">
            <fieldset class="form-group">
              <legend>Careers Batch Upload</legend>
              <label for="exampleInputFile">Select File</label>
              <%= file_field_tag 'upload[file]', required:true, class:"form-control-file" %>
              <small id="fileHelp" class="form-text text-muted">Select a JSON file to upload multiple careers</small>
            </fieldset>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <%= submit_tag "Upload File", class: 'btn btn-primary' %>
        </div>
      <% end %>
    </div>
  </div>
</div>

